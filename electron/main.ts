import { app, BrowserWindow, ipcMain } from 'electron'; import path from 'path'; let mainWindow = null; function createWindow() { mainWindow = new BrowserWindow({width: 900, height: 700, webPreferences: {preload: path.join(__dirname, 'preload.js'), contextIsolation: true}}); const url = process.env.VITE_DEV_SERVER_URL || `file://${path.join(__dirname, '../renderer/index.html')}`; mainWindow.loadURL(url); if (process.env.VITE_DEV_SERVER_URL) mainWindow.webContents.openDevTools(); mainWindow.on('closed', () => {mainWindow = null;}); } app.on('ready', createWindow); app.on('window-all-closed', () => {if (process.platform !== 'darwin') app.quit();}); app.on('activate', () => {if (mainWindow === null) createWindow();});